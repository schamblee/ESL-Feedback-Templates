<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Standard Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <!-- Site Properties -->
    <title>5 Apple Feedback</title>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="dist/semantic.min.css">
  </head>
  <body class="pushable">
  <!-- Page Contents -->
    <div class="pusher">
      <nav role="navigation" class="ui fixed inverted menu">
        <div class="ui container">
          <a href="/" class="header item">
            <img class="logo" src="https://freeiconshop.com/wp-content/uploads/edd/apple-flat-1.png" alt="logo">
            &nbsp 5 Apple Feedback
          </a>
          <div class="right item">
            <div class="ui buttons">
              <button title="Click for instructions" id="help" class="ui basic green button">Help
              </button>
              <button title="Sign Out" id="sign-out" class="ui green button">Sign Out
              </button>
            </div>
          </div>
        </div>
      </nav>
      <main role="main" class="ui vertical masthead left aligned segment">
        <div class="ui vertical stripe segment">
        <!-- Welcome Message -->
          <section role="region" class="ui text container">
            <div id="welcome-message" class="ui positive message transition">
              <i class="close icon"></i>
              <div class="header">Welcome to 5 Apple Feedback</div>
              <ul id="welcome-list" class="list">
                <li>Enter your <a target="_blank" href="https://t.vipkid.com.cn/classrooms">
                  VIPKID classroom</a>
                </li> 
                <li>Copy and paste the classroom link below</li> 
                <li>Click <b>Add New Student</b> to save student information</li>
                <li>Click <b>Add Feedback</b> to copy and save your feedback for your class.</li>
              </ul>
            </div>
          </section>
          <!-- Feedback Form and Table -->
          <section role="region" class="ui text container">
            <form role="form" id="templateForm" class="ui form">
              <div class="fields">
                <div class="field">
                  <label for="classroom-url">Paste the Classroom Link
                    <a id="instructions" href="#">
                      <i class="question circle outline icon"></i></a>:
                      (demo: https://t.vipkid.com.cn/classrooms/89520009-4483531-842843)
                  </label>
                  <div class="ui labeled input">
                    <div class="ui label">http://</div>
                    <input id="classroom-url" name="classroom" type="text" 
                    placeholder="t.vipkid.com.cn/classrooms/" required>
                  </div>
                </div>
              </div>
              <div class="field">
                <label for="student">Student Name:</label>
                <select id="student" class="ui dropdown studentNameInput" required>
                  <option value="">Create or Select a Student</option>
                </select>
              </div>
              <div class="field">
                <div class="ui buttons">
                  <button title="Add a New Student" id="addNewStudent" class="ui tiny green button">
                    Add New Student
                  </button>
                  <button id="viewStudentBtn" title="View Saved Students" class="ui tiny green basic button">
                    View Students
                  </button>
                </div>
              </div>
              <button class="ui orange button js-submit addFeedback" type="submit">Add Feedback</button>
            </form>
            <!-- Feedback Table -->
            <section role="region" class="js-feedback-output">
              <table id="feedbackTable" class="ui celled table">
                <thead class="title">
                  <tr>
                    <th>Saved Feedback 
                      <div id="info">
                        Click below to see your saved feedback.
                      </div>
                    </th>
                  </tr>
                </thead>
                <tbody id="feedbackTableData"></tbody>
              </table>
            </section>
          </section>
        </main>
        <!-- Footer -->
        <footer role="contentinfo" class="ui inverted vertical footer segment">
          <div class="ui container">
            <div class="ui stackable inverted divided equal height stackable grid">
              <div class="three wide column">
                <h4 class="ui inverted header">Contact Us</h4>
                <div class="ui inverted link list">
                  <a href="mailto:5applefeedback@gmail.com?Subject=5%20Apple%20Feedback" 
                    target="_top" class="item">Email Us
                  </a>
                </div>
              </div>
              <div class="three wide column">
                <h4 class="ui inverted header">Follow Us</h4>
                <div class="ui inverted link list">
                  <a href="https://twitter.com/5AppleFeedback" class="item"><i class="twitter icon"></i> @5applefeedback</a>
                </div>
              </div>
              <div class="seven wide column">
                <h4 class="ui inverted header">5 Apple Feedback</h4>
                <p>Send detailed ESL lesson feedback in seconds.</p>
              </div>
            </div>
          </div>
        </footer>
        <!-- Hidden Modals -->
        <section role="region" class="ui modal transition visible js-template-output" aria-live="polite" hidden>
          <i class="close icon"></i>
          <div class="header">Feeback</div>
          <div class="content">
            <form id="templateForm" class="ui form feedbackTemplate">
              <h4 id="templateModalHeader" class="ui dividing header"></h4>
              <div class="field">
                <label>Feedback Template</label>
                <textarea id="feedback-input" class="feedback-input">
                </textarea>
              </div>
              <div class="actions modal-action">
                <div class="ui cancel button">Cancel</div>
                <div class="ui green right labeled icon button copyFeedback" onclick="copyFeedback()">
                  <i class="copy icon"></i>Copy Feedback</div>
                  <button type="submit" class="ui approve blue button saveFeedback">Save Feedback</button>
              </div>
            </form>
            <div id="copied-message" aria-live="polite" hidden>
              <div class="ui success message">
                <div class="header">
                  Your feedback has been copied!
                </div>
                <p>You may now paste your feedback in your classroom.</p>
              </div>
            </div>
          </div>
        </section>
        <section role="region" id="studentModalForm" class="ui modal transition visible studentForm" aria-live="polite" hidden>
          <i class="close icon"></i>
          <div class="header">Student Info</div>
          <div id="studentId" hidden></div>
          <div class="content">
            <form id="studentForm" class="ui form studentForm">
              <h4 class="ui dividing header">Save Information About Your Student</h4>
              <div class="field">
                <label for="studentName">Name (displayed in student's feedback)</label>
                <input id="studentName" class="studentName" placeholder="Bao Bao" required>
              </div>
              <div class="field">
                <label for="studentNickName">Nick Name (for your records)</label>
                <input id="studentNickName" class="studentNickName" placeholder="Bao Bao (Level 2)">
              </div>
              <div class="field">
                <input type="radio" name="pronoun" value="boy" required> Boy
                <input type="radio" name="pronoun" value="girl" required> Girl
              </div>
              <div class="field">
                <label for="studentNotes">Student Notes (for your records)</label>
                <textarea id="studentNotes" class="studentNickName" 
                  placeholder="Work on pronunciation of short vowel sounds. Bao Bao enjoys the 'build a monster' reward system."></textarea>
              </div>
              <div class="actions">
                <div title="Cancel" class="ui cancel button">Cancel</div>
                  <button title="Save Student Info" type="submit" 
                    class="ui approve blue button saveStudent">Save Student</button>
              </div>
            </form>
          </div>
        </section>
        <section role="region" id="classroomLinkInstructions" 
          class="ui modal transition visible classroomLinkInstructions" 
          aria-live="polite" hidden>
          <i class="close icon"></i>
          <div class="header">How to use 5 Apple Feedback</div>
          <div id="info-content" class="content">
            <img id="instructionalGif" src="https://media.giphy.com/media/csN3ARPWeFwACe77fc/giphy.gif" 
              alt="How to copy and paste the classroom link">
            <ol id="steps">
              <li>Enter your <a target="_blank" href="https://t.vipkid.com.cn/classrooms">VIPKID classroom</a></li> 
              <li>Copy and paste the classroom link below</li> 
              <li>Click <b>Add New Student</b> to save student information</li>
              <li>Click <b>Add Feedback</b> to copy and save your feedback for your class.</li>
            </ol>
          </div>
        </section>
        <section role="region" id="viewStudents" 
          class="ui modal transition visible viewStudents" 
          aria-live="polite" hidden>
          <i class="close icon"></i>
          <div class="header">Student Information</div>
          <div id="info-content" class="scrolling content">
            <table id="studentsTable" class="ui celled striped table">
              <thead>
                <tr>
                  <th>Edit</th>
                  <th>Student Name</th>
                  <th>Nick Name</th>
                  <th>Boy/Girl</th>
                  <th id="notes-data">Notes</th>
                </tr>
              </thead>
              <tbody id="student-rows"></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="dist/semantic.min.js"></script>
    <script type="text/javascript" src="feedback.js"></script>
  </body>
</html>